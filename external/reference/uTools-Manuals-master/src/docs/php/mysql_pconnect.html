<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>打开一个到 MySQL 服务器的持久连接</title>
 </head>
 <body class="docs"><div id="layout">
  <div id="layout-content"><div id="function.mysql-pconnect" class="refentry">
   <div class="refnamediv">
    <h1 class="refname">mysql_pconnect</h1>
    <p class="verinfo">(PHP 4, PHP 5)</p><p class="refpurpose"><span class="refname">mysql_pconnect</span> &mdash; <span class="dc-title">
     打开一个到 MySQL 服务器的持久连接
    </span></p>

   </div>
   <div class="refsect1 unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-seealtb" id="refsect1-function.mysql-pconnect-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-unknown-seealtb">
    <h3 class="title">说明</h3>
     <div class="methodsynopsis dc-description">
      <span class="methodname"><strong>mysql_pconnect</strong></span>
       ([ <span class="methodparam"><span class="type">string</span> <code class="parameter">$server</code></span> 
      [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$username</code></span>
      [, <span class="methodparam"><span class="type">string</span> <code class="parameter">$password</code></span>
      [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$client_flags</code></span>
     ]]]] ) : <span class="type">resource</span></div>

    <p class="para rdfs-comment">
     如果成功则返回一个正的 MySQL 持久连接标识符，出错则返回 <strong><code>FALSE</code></strong>。
    </p>
    <p class="para">
     <span class="function"><strong>mysql_pconnect()</strong></span>
     建立一个到 MySQL
     服务器的连接。如果没有提供可选参数，则使用如下默认值：<code class="parameter">server</code> =
     &#039;localhost:3306&#039;，<code class="parameter">username</code> =
     服务器进程所有者的用户名，<code class="parameter">password</code> =
     空密码。<code class="parameter">client_flags</code>
     参数可以是以下常量的组合：MYSQL_CLIENT_COMPRESS，MYSQL_CLIENT_IGNORE_SPACE
     或者 MYSQL_CLIENT_INTERACTIVE。
    </p>
    <p class="para">
     <code class="parameter">server</code>
     参数也可以包括端口号，例如
     &quot;hostname:port&quot;，或者是本机套接字的的路径，例如
     &quot;:/path/to/socket&quot;。
     <blockquote class="note"><p><strong class="note">Note</strong>: 
      <p class="para">
       对 &quot;:port&quot; 的支持是 3.0B4 版添加的。
      </p>
      <p class="para">
       对 &quot;:/path/to/socket&quot; 的支持是 3.0.10 版添加的。
      </p>
     </p></blockquote>
    </p>

    
    <p class="para">
     <span class="function"><strong>mysql_pconnect()</strong></span>
     和
     <span class="function"><a href="mysql_connect.html" class="function">mysql_connect()</a></span>
     非常相似，但有两个主要区别。
    </p>
    <p class="para">
     首先，当连接的时候本函数将先尝试寻找一个在同一个主机上用同样的用户名和密码已经打开的（持久）连接，如果找到，则返回此连接标识而不打开新连接。
    </p>
    <p class="para">
     其次，当脚本执行完毕后到
     SQL 服务器的连接不会被关闭，此连接将保持打开以备以后使用（<span class="function"><a href="mysql_close.html" class="function">mysql_close()</a></span>
     不会关闭由
     <span class="function"><strong>mysql_pconnect()</strong></span> 建立的连接）。
    </p>
    <p class="para">
     可选参数
     <code class="parameter">client_flags</code>
     自 PHP 4.3.0 版起可用。
    </p>
    <p class="para">
     此种连接称为“持久的”。
    </p>
    <blockquote class="note"><p><strong class="note">Note</strong>: 
     <p class="para">
      注意，此种连接仅能用于模块版本的 PHP。更多信息参见<a href="features.persistent_connections.html" class="link">数据库持久连接</a>一节。
     </p>
    </p></blockquote>
    <div class="warning"><strong class="warning">Warning</strong>
     <p class="para">
      使用持久连接需要调整一些
      Apache 和 MySQL
      的配置以使不会超出 MySQL 所允许的连接数目。
     </p>
    </div>
   </div>

  </div></div></div></body></html>