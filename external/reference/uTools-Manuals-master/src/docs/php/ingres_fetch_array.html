<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Fetch a row of result into an array</title>
 </head>
 <body class="docs"><div id="layout">
  <div id="layout-content"><div id="function.ingres-fetch-array" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">ingres_fetch_array</h1>
  <p class="verinfo">(PHP 5 &lt; 5.1.0, PECL ingres &gt;= 1.0.0)</p><p class="refpurpose"><span class="refname">ingres_fetch_array</span> &mdash; <span class="dc-title">Fetch a row of result into an array</span></p>

 </div>
 
 <div class="refsect1 description" id="refsect1-function.ingres-fetch-array-description">
  <h3 class="title">说明</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>ingres_fetch_array</strong></span>
    ( <span class="methodparam"><span class="type">resource</span> <code class="parameter">$result</code></span>
   [, <span class="methodparam"><span class="type">int</span> <code class="parameter">$result_type</code></span>
  ] ) : <span class="type">array</span></div>

  <p class="para rdfs-comment">
   This function is an extended version of
   <span class="function"><a href="ingres_fetch_row.html" class="function">ingres_fetch_row()</a></span>.  In addition to storing
   the data in the numeric indices of the result array, it also
   stores the data in associative indices, using the field names as
   keys.
  </p>
  <p class="para">
   If two or more columns of the result have the same field names,
   the last column will take precedence. To access the another
   column or columns of the same name, you must use the numeric index of the
   column or make an alias for the column. For example:
   <div class="informalexample">
    <div class="example-contents">
<div class="phpcode"><pre><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br /><br />$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ingres_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">,&nbsp;</span><span style="color: #DD0000">"select&nbsp;ap_place&nbsp;as&nbsp;city,&nbsp;ap_ccode&nbsp;as&nbsp;country&nbsp;from&nbsp;airport&nbsp;where&nbsp;ap_iatacode&nbsp;=&nbsp;'VLL'"</span><span style="color: #007700">);&nbsp;<br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ingres_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$foo&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">[</span><span style="color: #DD0000">"city"</span><span style="color: #007700">];<br /></span><span style="color: #0000BB">$bar&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">$result</span><span style="color: #007700">[</span><span style="color: #DD0000">"country"</span><span style="color: #007700">];<br /><br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</pre></div>
    </div>

   </div>
  </p>
  <p class="para">
   With regard to speed, the function is identical to
   <span class="function"><a href="ingres_fetch_object.html" class="function">ingres_fetch_object()</a></span>, and almost as quick as
   <span class="function"><a href="ingres_fetch_row.html" class="function">ingres_fetch_row()</a></span> (the difference is
   insignificant).
  </p>
  <p class="para">
   By default, arrays created by <span class="function"><strong>ingres_fetch_array()</strong></span> start
   from position 1 and not 0 as with other DBMS extensions. The starting position
   can be adjusted to 0 using the configuration parameter <a href="ingres.configuration.html#ini.ingres.array-index-start" class="link">ingres.array_index_start</a>.
  </p>
  <blockquote class="note"><p><strong class="note">Note</strong>: 
   <strong>Related Configurations</strong><br />
   <p class="para">
    See also the <a href="ingres.configuration.html#ini.ingres.array-index-start" class="link">ingres.array_index_start</a>, <a href="ingres.configuration.html#ini.ingres.fetch-buffer-size" class="link">ingres.fetch_buffer_size</a>
    and <a href="ingres.configuration.html#ini.ingres.utf8" class="link">ingres.utf8</a>
    directives in <a href="ingres.configuration.html" class="link">Runtime
    Configuration</a>.
   </p>
  </p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.ingres-fetch-array-parameters">
  <h3 class="title">参数</h3>
  <p class="para">
   <dl>

    
     <dt>
<code class="parameter">result</code></dt>

     <dd>

      <p class="para">
       The query result identifier
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">result_type</code></dt>

     <dd>

      <p class="para">
       The result type. This <code class="parameter">result_type</code> can be <strong><code>INGRES_NUM</code></strong> for
       enumerated array, <strong><code>INGRES_ASSOC</code></strong> for associative array, or
       <strong><code>INGRES_BOTH</code></strong> (default).
      </p>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.ingres-fetch-array-returnvalues">
  <h3 class="title">返回值</h3>
  <p class="para">
   Returns an array that corresponds to the fetched row,
   or <strong><code>FALSE</code></strong> if there are no more rows
  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.ingres-fetch-array-examples">
  <h3 class="title">范例</h3>
  <p class="para">
   <div class="example" id="example-1304">
    <p><strong>Example #1 Fetch a row of result into an array</strong></p>
    <div class="example-contents">
<div class="phpcode"><pre><span style="color: #000000">
<span style="color: #0000BB">&lt;?php<br />$link&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ingres_connect</span><span style="color: #007700">(</span><span style="color: #0000BB">$database</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$user</span><span style="color: #007700">,&nbsp;</span><span style="color: #0000BB">$password</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">$result&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ingres_query</span><span style="color: #007700">(</span><span style="color: #0000BB">$link</span><span style="color: #007700">,</span><span style="color: #DD0000">"select&nbsp;*&nbsp;from&nbsp;table"</span><span style="color: #007700">);<br />while&nbsp;(</span><span style="color: #0000BB">$row&nbsp;</span><span style="color: #007700">=&nbsp;</span><span style="color: #0000BB">ingres_fetch_array</span><span style="color: #007700">(</span><span style="color: #0000BB">$result</span><span style="color: #007700">))&nbsp;{<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"user_id"</span><span style="color: #007700">];&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;using&nbsp;associative&nbsp;array<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #DD0000">"fullname"</span><span style="color: #007700">];<br />&nbsp;&nbsp;&nbsp;&nbsp;echo&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">1</span><span style="color: #007700">];&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #FF8000">//&nbsp;using&nbsp;enumerated&nbsp;array<br />&nbsp;&nbsp;&nbsp;&nbsp;</span><span style="color: #007700">echo&nbsp;</span><span style="color: #0000BB">$row</span><span style="color: #007700">[</span><span style="color: #0000BB">2</span><span style="color: #007700">];<br />}<br /></span><span style="color: #0000BB">?&gt;</span>
</span>
</pre></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.ingres-fetch-array-seealso">
  <h3 class="title">参见</h3>
  <p class="para">
   <ul class="simplelist">
    <li class="member"><span class="function"><a href="ingres_query.html" class="function" rel="rdfs-seeAlso">ingres_query()</a> - Send an SQL query to Ingres</span></li>
    <li class="member"><span class="function"><a href="ingres_num_fields.html" class="function" rel="rdfs-seeAlso">ingres_num_fields()</a> - Get the number of fields returned by the last query</span></li>
    <li class="member"><span class="function"><a href="ingres_field_name.html" class="function" rel="rdfs-seeAlso">ingres_field_name()</a> - Get the name of a field in a query result</span></li>
    <li class="member"><span class="function"><a href="ingres_fetch_assoc.html" class="function" rel="rdfs-seeAlso">ingres_fetch_assoc()</a> - Fetch a row of result into an associative array</span></li>
    <li class="member"><span class="function"><a href="ingres_fetch_object.html" class="function" rel="rdfs-seeAlso">ingres_fetch_object()</a> - Fetch a row of result into an object</span></li>
    <li class="member"><span class="function"><a href="ingres_fetch_row.html" class="function" rel="rdfs-seeAlso">ingres_fetch_row()</a> - Fetch a row of result into an enumerated array</span></li>
   </ul>
  </p>
 </div>


</div></div></div></body></html>