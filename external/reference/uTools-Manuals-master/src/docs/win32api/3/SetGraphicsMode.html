<html>
<body>

<h3>函数功能</h3>该函数为指定的设备环境设置图形模式。<br>
<h3>函数原型</h3>int SetGraphicsMode(HDC hdc, int iMode)；<br>
<h3>参数</h3>
hdc：指向设备环境的句柄。<br>
iMode：指定图形模式，该参数可为下列值之一：<br>
GM_COMPAIBLE：设置与16位Windows相兼容的图形模式，这是缺省的模式。如果指定此值，应用程序只能通过调用设置窗口视窗范围和原点的函数来改变全局到设备的转换，但不是通过利用SetWorldTransform或ModifyWorldTransform，调用这些函数将失败，设置窗口和视窗范围和原点的函数的例子为SetViewportExtEx和SetwindowExtEx函数。<br>
GM_ADVANCED：Windows NT和Windows 98：设置高级图形模式，允许全局转换。如果应用程序设置或改变指定设备环境的全局转换，必须规定该值在这种模式中，所有的图形，包括文本输出，全部转换为设备环境规定的全局到设备的转换。<br>
Windows 95：不支持GM_ADVANCED，当操作增强的元文件时，Windows 95试图使Windows95中的增强的元文件看起来与在Windows NT上操作一样。为完成此功能，Windows 95当操作指定的增强元文件记录时，可以模仿GM_ADVANCED模式。<br>
<h3>返回值</h3>如果调用成功，返回值为老图形模式，调用失败，返回值为零。若想获得更多错误信息，请调用GetLastError函数。<br>
备注：根据图形模式，有3种不同的表格输出：<br>
TextOutput：在GM_COMPATIBLE模式中，TrueType（或矢量字体）文本输出时的操作方式就该DC中全局到设备转换而言很象光栅字体文本输出。TrueType文本总是按从左到右和从上到下的顺序写，即使图形的剩余部分在X或Y轴被翻动，只有TrueType（或矢量字体）文本的高被定为合适的高度，在GM_COMPATIBLE模式中写非水平文本的唯一办法，是为该设备环境中选举的字体指定非零表格的大小和方向。<br>
在GM_ADVANCED模式中TrueType（或矢量字体）文本输出完全转换为设备环境中域到设备的转换，光栅字体只有很受局限的转换能力（通过某些整型系数来伸展）。图形设备界面（GDI）试图创造出最好的输出。<br>
Rectangle Exclusion：如果设置缺省的GM_COMPATIBLE图形模式，当画长方形时，系统不包括底部和最右的边。GM_ADVANCED图形模式应用于画底边和右边包括在内的长方形。<br>
Arc Drawing：如果设置缺省的GM_COMPATIBLE图形为模式，GDI用设备空间中当前弧的方向来画弧，根据此协议，弧不管页面到设备的转换，此转换要求沿着X或Y轴的翻动。如果设置了GM_ADVANCED图形模式，GDI总是在逻辑空间逆时针方向画弧。这就是说在GM_COMPATIBLE图形模式中，弧控制点和弧本身，都全遵从设备环境的全局到设备的转换。<br>
<h3>速查</h3>Windows NT：3.1及以上版本；Windows：95及以上版本；Windows CE：不支持；头文件：wingdi.h；库文件：gdi32.lib。<br>

</body>
</html>
