<div class="c-markdown doc-markdown"><div class="doc-postil"><div class="c-markdown"><h2>名称</h2></div></div><div class="doc-postil"><div class="c-markdown"><p>git-upload-archive  - 将归档发送回 git-archive</p></div></div><div class="doc-postil"><div class="c-markdown"><h2>概要</h2></div></div><div class="doc-postil"><div class="c-markdown"><pre><code class="language-Bash">git upload-archive &lt;directory&gt;</code></pre></div></div><div class="doc-postil"><div class="c-markdown"><h2>描述</h2></div></div><div class="doc-postil"><div class="c-markdown"><p>通过Git协议调用<code>git archive --remote</code>并将生成的存档发送到另一端。</p></div></div><div class="doc-postil"><div class="c-markdown"><p>该命令通常不由最终用户直接调用。该协议的用户界面位于<code>git archive</code>侧面，程序对旨在用于从远程存储库获取存档。</p></div></div><div class="doc-postil"><div class="c-markdown"><h2>安全</h2></div></div><div class="doc-postil"><div class="c-markdown"><p>为了保护已从历史记录中删除但尚未修剪过的对象的隐私，请<code>git-upload-archive</code>避免提供无法从存储库引用中访问的提交和树的归档文件。但是，因为计算对象可达性在计算上很昂贵，所以<code>git-upload-archive</code>实现了一组更严格但更易于检查的规则：</p></div></div><div class="doc-postil"><div class="c-markdown"><ul class="ul-level-0 list-paddingleft-2" style="margin: 10px 0px 10px 20px;"><li><p>客户可以请求一个提交或直接指向ref的树。例如，<code>git archive --remote=origin v1.0</code>。</p></li></ul></div></div><div class="doc-postil"><div class="c-markdown"><ul class="ul-level-0 list-paddingleft-2" style="margin: 10px 0px 10px 20px;"><li><p>客户可以使用<code>ref:path</code>语法在提交或树中请求子树。例如，<code>git archive --remote=origin v1.0:Documentation</code>。</p></li></ul></div></div><div class="doc-postil"><div class="c-markdown"><ul class="ul-level-0 list-paddingleft-2" style="margin: 10px 0px 10px 20px;"><li><p>即使最终结果可达，客户端也可以<code>not</code>使用其他 sha1 表达式。例如，即使结果可从 ref 中获得，也不允许类似<code>master^</code>相对提交，也不允许使用类似<code>abcd1234</code>文字 sha1 。</p></li></ul></div></div><div class="doc-postil"><div class="c-markdown"><p>请注意，规则3不允许许多不涉及隐私影响的情况。这些规则在未来版本的 git 中可能会发生变化，并且访问的服务器<code>git archive --remote</code>可能会或可能不遵循这些准确的规则。</p></div></div><div class="doc-postil"><div class="c-markdown"><p>如果 config 选项<code>uploadArchive.allowUnreachable</code>为 true，这些规则将被忽略，客户端可以使用任意 sha1 表达式。如果您不关心无法访问的对象的隐私，或者您的对象数据库已公开可通过非智能 http 访问，这非常有用。</p></div></div><div class="doc-postil"><div class="c-markdown"><h2>选项</h2></div></div><div class="doc-postil"><div class="c-markdown"><p>&lt;directory&gt;</p></div></div><div class="doc-postil"><div class="c-markdown"><p>从中获取 tar 归档的存储库。</p></div></div></div>